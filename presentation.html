<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{view-transition-name:__bespoke_marp_transition_osc__;background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:rgba(0,0,0,.65);border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;scrollbar-color:hsla(0,0%,93%,.5) transparent;scrollbar-width:thin;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>div#\:\$p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#\:\$p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:0.67em 0}div#\:\$p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p>svg>foreignObject>section{page-break-before:always;break-before:page}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#\:\$p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#\:\$p>svg>foreignObject>:where(section){container-type:size}div#\:\$p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp / Marpit Uncover theme
 *
 * @theme uncover
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#\:\$p>svg>foreignObject>section{word-wrap:break-word;--color-background:#fdfcff;--color-background-code:#f2f1f4;--color-background-paginate:rgba(32,34,40,.05);--color-foreground:#202228;--color-highlight:#009dd5;--color-highlight-hover:#087eaa;--color-highlight-heading:#33b1dd;--color-header:rgba(32,34,40,.4);--color-header-shadow:rgba(253,252,255,.8);background:var(--color-background);flex-flow:column nowrap;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:40px;height:720px;justify-content:center;letter-spacing:3px;line-height:1.4;padding:30px 70px;position:relative;text-align:center;width:1280px;z-index:0}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:40px}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section:after{color:var(--color-foreground);display:flex}div#\:\$p>svg>foreignObject>section:after{align-items:flex-end;background:linear-gradient(-45deg,var(--color-background-paginate) 50%,transparent 50%);background-size:cover;font-size:.6em;height:80px;justify-content:flex-end;padding:30px;text-align:right;text-shadow:0 0 5px var(--color-background);width:80px}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:.6em}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) :is(pre,marp-pre) code.hljs{display:block;overflow-x:auto;padding:1em}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) code.hljs{padding:3px 5px}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs{background:#fff;color:#000}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-addition,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-meta,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-string,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-symbol,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-template-tag,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-template-variable{color:#756bb1}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-comment,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-quote{color:#636363}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-bullet,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-link,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-literal,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-number,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-regexp{color:#31a354}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-deletion,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-variable{color:#88f}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-built_in,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-doctag,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-keyword,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-name,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-section,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-selector-class,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-selector-id,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-selector-tag,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-strong,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-tag,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-title,div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-type{color:#3182bd}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-emphasis{font-style:italic}div#\:\$p>svg>foreignObject>section:where(:not(.invert)) .hljs-attribute{color:#e6550d}div#\:\$p>svg>foreignObject>section:where(.invert){--color-background:#202228;--color-background-code:#2b2d33;--color-background-paginate:hsla(0,0%,100%,.05);--color-foreground:#fff;--color-highlight:#60d0f0;--color-highlight-hover:#88dcf4;--color-highlight-heading:#80d9f3;--color-header:hsla(0,0%,100%,.4);--color-header-shadow:rgba(32,34,40,.8)}div#\:\$p>svg>foreignObject>section:where(.invert) :is(pre,marp-pre) code.hljs{display:block;overflow-x:auto;padding:1em}div#\:\$p>svg>foreignObject>section:where(.invert) code.hljs{padding:3px 5px}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs{background:#222;color:#fff}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-comment,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-quote{color:#777}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-built_in,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-bullet,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-deletion,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-link,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-literal,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-meta,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-number,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-params,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-regexp,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-symbol,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-tag,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-template-variable,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-variable{color:#ab875d}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-attribute,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-name,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-section,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-selector-class,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-selector-id,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-title,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-type{color:#9b869b}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-addition,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-keyword,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-selector-tag,div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-string{color:#8f9c6c}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-emphasis{font-style:italic}div#\:\$p>svg>foreignObject>section:where(.invert) .hljs-strong{font-weight:700}div#\:\$p>svg>foreignObject>section>:first-child,div#\:\$p>svg>foreignObject>section[data-header]>:nth-child(2){margin-top:0}div#\:\$p>svg>foreignObject>section>:last-child,div#\:\$p>svg>foreignObject>section[data-footer]>:nth-last-child(2){margin-bottom:0}div#\:\$p>svg>foreignObject>section blockquote,div#\:\$p>svg>foreignObject>section p{margin:0 0 15px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){margin:15px 0 30px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{color:var(--color-highlight-heading);font-weight:inherit}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6)::part(auto-scaling){max-height:660px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-size:1.7em}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.4em;letter-spacing:2px}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1.2em;letter-spacing:2px}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:1em;letter-spacing:1px}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:.8em;letter-spacing:1px}div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header{color:var(--color-header);font-size:.45em;left:70px;letter-spacing:1px;position:absolute;right:70px;text-shadow:0 1px 0 var(--color-header-shadow);z-index:1}div#\:\$p>svg>foreignObject>section header{top:30px}div#\:\$p>svg>foreignObject>section footer{bottom:30px}div#\:\$p>svg>foreignObject>section a{color:var(--color-highlight);text-decoration:none}div#\:\$p>svg>foreignObject>section a:hover{color:var(--color-highlight-hover);text-decoration:underline}div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section ul{margin:0 auto;text-align:left}div#\:\$p>svg>foreignObject>section>ol,div#\:\$p>svg>foreignObject>section>ul{margin-bottom:15px}div#\:\$p>svg>foreignObject>section code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;letter-spacing:0}div#\:\$p>svg>foreignObject>section :not(:is(pre,marp-pre))>code,div#\:\$p>svg>foreignObject>section>code{background:var(--color-background-code);color:var(--color-foreground);margin:-.2em .2em .2em;padding:.2em}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){--preserve-aspect-ratio:xMidYMid meet;filter:drop-shadow(0 4px 4px rgba(0,0,0,.2));font-size:70%;line-height:1.15;margin:15px 0 30px;text-align:left}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)::part(auto-scaling){max-height:570px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)>code{background:var(--color-background-code);box-sizing:content-box;color:var(--color-foreground);display:block;margin:0 auto;min-width:456px;padding:.4em .6em}div#\:\$p>svg>foreignObject>section[data-size="4:3"] :is(pre,marp-pre)>code{min-width:328px}div#\:\$p>svg>foreignObject>section table{border-collapse:collapse;margin:0 auto 15px}div#\:\$p>svg>foreignObject>section table>tbody>tr>td,div#\:\$p>svg>foreignObject>section table>tbody>tr>th,div#\:\$p>svg>foreignObject>section table>thead>tr>td,div#\:\$p>svg>foreignObject>section table>thead>tr>th{padding:.15em .5em}div#\:\$p>svg>foreignObject>section table>thead>tr>td,div#\:\$p>svg>foreignObject>section table>thead>tr>th{border-bottom:3px solid}div#\:\$p>svg>foreignObject>section table>tbody>tr:not(:last-child)>td,div#\:\$p>svg>foreignObject>section table>tbody>tr:not(:last-child)>th{border-bottom:1px solid}div#\:\$p>svg>foreignObject>section blockquote{font-size:90%;line-height:1.3;padding:0 2em;position:relative;z-index:0}div#\:\$p>svg>foreignObject>section blockquote:after,div#\:\$p>svg>foreignObject>section blockquote:before{content:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNNDQgMTkuMyAzOC45NCAwQzguMTQgOS41OSAwIDQwLjA1IDAgNTQuODNWMTAwaDQxLjQ3VjU0LjgzaC0yM2MtLjA0LS4yOC4yNS0yNy42NiAyNS41My0zNS41M3ptNTYgMEw5NC45NCAwQzY0LjE0IDkuNTkgNTYgNDAuMDUgNTYgNTQuODNWMTAwaDQxLjQ3VjU0LjgzaC0yM2MtLjA0LS4yOC4yNS0yNy42NiAyNS41My0zNS41M3oiIHN0eWxlPSJmaWxsOiM4ODg7b3BhY2l0eTouMzMiLz48L3N2Zz4=");height:auto;pointer-events:none;position:absolute;width:1em;z-index:-1}div#\:\$p>svg>foreignObject>section blockquote:before{left:0;top:0}div#\:\$p>svg>foreignObject>section blockquote:after{bottom:0;right:0;transform:rotate(180deg)}div#\:\$p>svg>foreignObject>section blockquote>:last-child{margin-bottom:0}div#\:\$p>svg>foreignObject>section mark{background:transparent;color:var(--color-highlight)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure>figcaption{position:absolute;border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;white-space:nowrap;width:1px}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content],div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#\:\$p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="1" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h3 id="smart-and-private-domotics">Smart and Private Domotics</h3>
<h6 id="privacy-preserving-energy-optimisation-in-home-automation-systems">Privacy-Preserving Energy Optimisation in Home Automation Systems</h6>
<p style="text-align: center">
Master in Robotics and Intelligent Systems
<br />
</p>
<p style="text-align: center;">
<strong>Henrique Sousa</strong> | 98324
</p>
<br />
<p style="text-align: left; font-size: 24px">
<strong>Supervisors:</strong> 
</p>
<p style="text-align: left; font-size: 24px">
Prof. Doutor Diogo Gomes</p>
<p style="text-align: left; font-size: 24px">
Prof. Doutor Mário Antunes
</p> 
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="2" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h2 id="introduction-a-idintroductiona">Introduction <a id="introduction"></a></h2>
<ul>
<li>Energy Consumption: Households accounted for 27% of EU's final energy consumption in 2021. <a href="#references">[1]</a></li>
<li>Households are becoming a significant contributor in the green energy market, with the rise of solar power generation and smart home systems.</li>
<li>Solar rooftop installations increased by 49% worldwide in 2022. <a href="#references">[2]</a></li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="3" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="text-align: center;">
    <img src="./assets/Annual_solar_pv_installed_capacity_2000_2022_d2da6905a6.png" width="70%" height="auto" />
    <p style="font-size: 0.4em;">Figure 1: Annual Solar PV installed capacity 2000-2022 <a href="#references">[2]</a>. </p>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="4" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Introduction</b> <a id="introduction"></a>
</div>
<h2 id="motivation-a-idmotivation2a">Motivation <a id="motivation2"></a></h2>
<ul>
<li>In Portugal, household energy balance is measured every 15 minutes. <a href="#references">[3]</a>
<ul>
<li>Users pay or gain depending on their consumption versus production.</li>
</ul>
</li>
<li>There's a growing need to develop systems capable of accurately predicting household energy production in a 15-minute window, aiming to:
<ul>
<li>Provide insights on the household's surplus energy</li>
<li>Reduce energy waste in the household</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="5" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Introduction</b> <a id="introduction"></a>
</div>
<h2 id="research-objective-a-idresearch-objetivea">Research Objective <a id="research-objetive"></a></h2>
<ul>
<li>Develop a system capable of providing energy consumption and production insights, entirely on an embedded system.
<ul>
<li>This aims for a local, private solution for optimizing energy consumption.</li>
</ul>
</li>
</ul>
<div style="text-align: center;">
    <img src="./assets/rpi-5.png" width="20%" height="auto" />
    <p style="font-size: 0.4em;">Figure 2: An example of an Embedded System: Raspberry Pi 5</p>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="6" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>State of the Art</b> <a id="sota"></a>
</div>
<h2 id="home-automation-a-idhome-automationa">Home Automation <a id="home-automation"></a></h2>
<p>Use of technology to control and automate household systems and appliances.</p>
<ul>
<li><strong>Home Automation System</strong>: Central hub that connects all smart devices in the home.
<ul>
<li>Enables the remote control of home appliances and systems.</li>
<li>Generally runs on an embedded system in a household context.</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="7" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>State of the Art</b> <a id="sota"></a>
</div>
<h3 id="time-series-forecasting-a-idtime-series-forecastinga">Time Series Forecasting <a id="time-series-forecasting"></a></h3>
<ul>
<li><strong>Methods</strong>
<ul>
<li>ARIMA</li>
<li>Prophet and NeuralProphet</li>
<li>RNN - <em>LSTM &amp; GRU</em> - and Transformers.</li>
</ul>
</li>
<li><strong>Best Solutions on the works analyzed</strong>
<ul>
<li><strong>Multivariate approaches</strong> over univariate ones.</li>
<li><strong>Neural Networks</strong> over statistical methods.</li>
<li>Incorporation of the <strong>Attention Mechanism</strong> in RNN.</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="8" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>State of the Art</b> <a id="sota"></a>
</div>
<h3 id="machine-learning-in-embedded-systems-a-idml-embedded-systemsa">Machine Learning in Embedded Systems <a id="ml-embedded-systems"></a></h3>
<ul>
<li><strong>Transfer Learning</strong>: Technique that allows the use of pre-trained models to adapt to fit a similar purpose.
<ul>
<li>Can <strong>reduce model training computational cost</strong> while maintaining performance.</li>
</ul>
</li>
<li><strong>Model Quantization</strong>: Consists of transitioning from floating-point to fixed-point representation.
<ul>
<li>Can <strong>reduce the size</strong> of the model and the <strong>inference time</strong>.</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="9" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Base Requirements</b> <a id="base-requirements"></a>
</div>
<table border="1" style="font-size: 24px; width: 90%; height: 78%">
  <tr>
    <th style="padding: 4px;">Requirement ID</th>
    <th style="padding: 4px;">Description</th>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR1</b></td>
    <td style="padding: 2px;">The system shall be able to forecast based on a combination of historical and real-time data</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR2</b></td>
    <td style="padding: 2px;">The system shall be compatible with multivariate ML models</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR3</b></td>
    <td style="padding: 2px;">The system shall allow the prediction of the next 15 minutes forecast</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR4</b></td>
    <td style="padding: 2px;">The system shall be suitable for resource-constrained devices</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR5</b></td>
    <td style="padding: 2px;">The system shall be trained with a short-term time series dataset (15 to 30 days of data)</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR6</b></td>
    <td style="padding: 2px;">The system shall achieve a R-squared (R2) score greater than 0.85</td>
  </tr>
</table>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="10" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<table border="1" style="font-size: 20px; width: 100%;">
  <tr>
    <th style="padding: 4px;">Solutions</th>
    <th style="padding: 4px;">FR1</th>
    <th style="padding: 4px;">FR2</th>
    <th style="padding: 4px;">FR3</th>
    <th style="padding: 4px;">FR4</th>
    <th style="padding: 4px;">FR5</th>
    <th style="padding: 4px;">FR6</th>
    <th style="padding: 4px;">Summary</th>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>H. Zhou et al.</b> <a href="#references">[4]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: left;">Hybrid ensemble approach that integrates LSTM with an attention mechanism.</td>
  </tr>
  <tr>
    <td style="padding: 2px;">Elsaraiti et al. <a href="#references">[5]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: left;">Compared the difference between predicting solar power generation in summer and winter.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>I. Jebli et al.</b> <a href="#references-2">[6]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: left;">Multivariate approach with selected meteorological inputs, such as temperature and humidity.</td>
  </tr>
  <tr>
    <td style="padding: 2px;">M. Park et al. <a href="#references-2">[7]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;">-</td>
    <td style="padding: 2px; text-align: left;">Compared a LSTM single-layer model to a model with multiple LSTM layers</td>
  </tr>
  <tr>
    <td style="padding: 2px;">B. Dhingra et al. <a href="#references-2">[8]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: left;">Compared four different time series forecasting statistical methods.</td>
  </tr>
    <tr>
    <td style="padding: 2px;">Lamrini et al. <a href="#references-2">[9]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: left;">Compared Post-Training Quantization and Quantization Aware Training to reduce computational cost.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>Tran et al.</b> <a href="#references-3">[10]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: left;">Reduced model size by 16 times maintaining performance with Model Quantization.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>Warushavithana et al.</b> <a href="#references-3">[11]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;">-</td>
    <td style="padding: 2px; text-align: left;">Reduced Prophet model CPU usage by 37.5% and training time by 47% with Transfer Learning.</td>
  </tr>
  <tr>
    <td style="padding: 2px;">Y. Tang et al. <a href="#references-3">[12]</a></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;">-</td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:red;">×</p></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓</p></td>
    <td style="padding: 2px; text-align: left;">Studied Transfer Learning efficiency to adapt pre-trained models to different geographical characteristics. </td>
  </tr>
</table>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="11" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Proposed Solution</b> <a id="proposed-solution"></a>
</div>
<h3 id="proposal">Proposal</h3>
<ul>
<li>Predict solar power generation and energy consumption in 15 minute intervals
<ul>
<li>Entirely on the embedded system</li>
<li>Promoting a local, private solution for energy consumption optimization</li>
</ul>
</li>
<li>Provides insights on household surplus energy
<ul>
<li>Help the user to better manage their own produced energy by providing insights on household surplus energy</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="12" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h3 id="high-level-architecture-a-idhigh-level-architecturea">High Level Architecture <a id="high-level-architecture"></a></h3>
<div style="display: flex; justify-content: center; align-items: flex-start;">
    <div style="flex: 0 0 67%;">
    <img src="./assets/diagrams/high-level-architecture.png" width="100%" height="auto" />
    <p style="font-size: 0.4em;">Figure 3:  High-Level Architecture of the Proposed Solution. </p>
    </div>
    <div style="flex: 1; padding-left: 20px; font-size: 26px">
        <ul>
            <li><b>Home Automation System</b></li>
            <ul>
              <li>Connects smart devices and appliances</li>
            </ul>
            <li><b>Integration</b></li>
            <ul>
              <li>Acts as a middleman between AI models and Smart Home</li>
            </ul>
            <li><b>External Model</b> <i style="color:grey; font-size:17px">(for DL)</i></li>
            <ul>
              <li>Trained on dedicated machine</li>
            </ul>
            <li><b>Local Model</b></li>
            <ul>
              <li>Transfer Learning in local device</li>
            </ul>
        </ul>
    </div>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="13" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h3 id="technological-stack-a-idlow-level-architecturea">Technological Stack <a id="low-level-architecture"></a></h3>
<div style="display: flex; justify-content: center; align-items: flex-start;">
    <div style="flex: 0 0 67%;">
        <img src="./assets/diagrams/low-level-architecture.png" style="width: 95%; height: auto;" />
        <p style="font-size: 0.4em; text-align: center;">Figure 4: Low-Level Architecture of the Proposed Solution. </p>
    </div>
    <div style="flex: 1; padding-left: 20px; font-size: 26px">
        <ul>
            <li><b>Home Automation</b></li>
            <ul>
              <li>Home Assistant</li>
              <li>Raspberry Pi 5</li>
            </ul>
            <li><b>Data</b></li>
            <ul>
              <li>Volunteers</li>
              <li>Household</li>
            </ul>   
            <li><b>Data Preprocessing</b></li>    
            <ul>
              <li>Python</li>
              <li>pandas</li>
              <li>NumPY</li>
            </ul>  
            <li><b>Model Processing</b></li>    
            <ul>
              <li>Keras</li>
              <li>scikit-learn</li>
            </ul>  
        </ul>
    </div>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="14" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Proposed Solution</b> <a id="proposed-solution"></a>
</div>
<h3 id="proposal-a-idproposala">Proposal <a id="proposal"></a></h3>
<table border="1" style="font-size: 20px; width: 100%;">
  <tr>
    <th style="padding: 4px;">Req. ID</th>
    <th style="padding: 4px;">Proposal</th>
    <th style="padding: 4px;">Solution</th>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR1</b></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓<p></td>
    <td style="padding: 2px; text-align: left">The system will be developed using a time series forecasting method combining historical and real-time data.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR2</b></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓<p></td>
    <td style="padding: 2px; text-align: left">The system will be developed with Keras, which supports multivariate ML models.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR3</b></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓<p></td>
    <td style="padding: 2px;text-align: left">The model will be developed to predict the solar power generation in fifteen-minute intervals.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR4</b></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓<p></td>
    <td style="padding: 2px;text-align: left">The model will undergo techniques like Model Quantization and Transfer Learning.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR5</b></td>
    <td style="padding: 2px; text-align: center;"><p style="color:green;">✓<p></td>
    <td style="padding: 2px;text-align: left">The Transfer Learning process will be applied to a short time frame of 15 to 30 days of the household’s PV power generation data.</td>
  </tr>
  <tr>
    <td style="padding: 2px;"><b>FR6</b></td>
    <td style="padding: 2px; text-align: center;">-</td>
    <td style="padding: 2px;text-align: left">The final performance metrics of the developed model are expected to fulfill this requirement.</td>
  </tr>
</table>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="15" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Initial Development</b>  <a id="initial-development"></a>
</div>
<h3 id="dataset-a-iddataseta">Dataset <a id="dataset"></a></h3>
<ul>
<li><strong>Household Solar Power Generation</strong>:
<ul>
<li>1 year of 1-minute interval data (2017) from households in Southern Germany.</li>
</ul>
</li>
</ul>
<h3 id="experiments-a-idexperimenta">Experiments <a id="experiment"></a></h3>
<ol>
<li><strong>Model Analysis</strong>: Compare the training efficiency of different models in different devices.</li>
<li><strong>Transfer Learning</strong>: Train a model on a dedicated machine and transfer it to an embedded system.</li>
</ol>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="16" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Initial Development</b>  <a id="initial-development"></a>
</div>
<h3 id="model-analysis-a-idmodel-analysisa">Model Analysis <a id="model-analysis"></a></h3>
<ul>
<li><strong>Models</strong>
<ul>
<li>ARIMA, Prophet, NeuralProphet, LSTM and GRU</li>
</ul>
</li>
<li><strong>Results with large amounts of data</strong>
<ul>
<li>Raspberry Pi struggles to run ARIMA and has extended training times for LSTM and GRU.</li>
<li>Prophet takes less time but has worse performance.</li>
<li>NeuralProphet is a balanced approach considering both accuracy and training time.</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="17" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Initial Development</b>  <a id="initial-development"></a>
</div>
<h3 id="transfer-learning-a-idtransfer-learninga">Transfer Learning <a id="transfer-learning"></a></h3>
<ul>
<li><strong>Hardware</strong>
<ul>
<li>General Purpose PC: Geforce 1650, 16GB RAM</li>
<li>Embedded System: Raspberry Pi 5, 8GB RAM</li>
</ul>
</li>
<li><strong>Training from Scratch</strong>: On both systems
<ul>
<li>RPi takes 176.51% longer</li>
</ul>
</li>
<li><strong>Transfer Learning</strong>: Achieves similar performance
<ul>
<li>Training times reduced by 62%</li>
<li>Consistent lower CPU and Memory Usage</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="18" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="display: flex; flex-direction: row; align-items: center;">
  <div style="flex: 1;">
    <img src="assets/GRU/transfer-learning/pre-trained-process-cpu-percent-2.png" style="width: 100%; height: auto;" />
    <p style="font-size: 16px">Figure 5: Process CPU percent on training from scratch vs using transfer learning</p>
  </div>
  <div style="flex: 1;">
    <img src="assets/GRU/transfer-learning/pre-trained-system-memory-percent-2.png" style="width: 100%; height: auto;" />
    <p style="font-size: 16px">Figure 6: System Memory percent on training from scratch vs using transfer learning</p>
  </div>
</div>
<div style="margin-top: 50px;">
  <img src="assets/GRU/transfer-learning/pre-trained-training-time-2.png" style="width: 60%; height: auto;" />
  <p style="font-size: 16px">Figure 7: Time difference between training from scratch and using transfer learning </p>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="19" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Initial Development</b>  <a id="initial-development"></a>
</div>
<h1 id="discussion-a-iddiscussiona">Discussion <a id="discussion"></a></h1>
<ul>
<li>It is possible to train a model on an embedded system, but it comes with a significant computational cost.</li>
<li>Transfer Learning can be used to reduce computational cost and reduce training time while maintaining performance.</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="20" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Development</b>  <a id="development"></a>
</div>
<h3 id="data-collection-a-iddata-collectiona">Data Collection <a id="data-collection"></a></h3>
<ul>
<li>Platform created in collaboration with an IT researcher that allows volunteers to upload their IoT sensor data.</li>
<li>With this, we were able to collect 6 pairs of time series data from Portuguese households with production and consumption data.</li>
<li>Preprocessing was needed to align the data and remove outliers.</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="21" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Development</b>  <a id="development"></a>
</div>
<h3 id="data-preprocessing-a-iddata-preprocessinga">Data Preprocessing <a id="data-preprocessing"></a></h3>
<ul>
<li>From <strong>monotonic-increasing</strong> data to <strong>instantaneous</strong> time series readings.</li>
<li><strong>Fill missing data</strong> from multiple hours without changes on the sensors</li>
<li><strong>Linear Interpolation</strong> to resample data to 15-minute intervals</li>
<li><strong>Data normalization</strong> to make sure every household data is in the same scale.</li>
<li><strong>Weather Data Integration</strong> was not possible due to lack of data.</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="22" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Development</b>  <a id="development"></a>
</div>
<h3 id="models-for-energy-optimization-a-idmodel-analysisa">Models for Energy Optimization <a id="model-analysis"></a></h3>
<ul>
<li>ARIMA, Prophet, NeuralProphet and GRU</li>
<li><strong>Procedure</strong>:
<ul>
<li>Exclusively for GRU:
<ul>
<li>Train models on an external dataset</li>
<li>Transfer Learning to the local device</li>
</ul>
</li>
<li>Train two models with local household data for energy generation and consumption.</li>
<li>Predict both household energy metrics and calculate the predicted surplus energy</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="23" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Energy Optimization</b>  <a id="energy-optimization"></a>
</div>
<h3 id="results-a-idmodel-analysisa">Results <a id="model-analysis"></a></h3>
<div style="display: flex; flex-direction: space-between; align-items: center;">
  <div>
    <img src="assets/results/surplus_energy_percentage_error_comparison.png" style="width: 100%; height: auto;" />
    <p style="font-size: 16px">Figure 8: Surplus Energy Percentage Error (MAPE) Comparison</p>
  </div>
  <div>
    <img src="assets/results/total_model_timing_comparison.png" style="width: 100%; height: auto;" />
    <p style="font-size: 16px">Figure 9: Total Model Timing - Training + Inference - comparison</p>
  </div>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="24" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Energy Optimization</b>  <a id="energy-optimization"></a>
</div>
<h4 id="comparison-with-existing-solution-a-idcomparisona">Comparison with existing solution <a id="comparison"></a></h4>
<p><i style="color:grey; font-size: 24px">Forecast.Solar</i></p>
<table style="width: 100%; font-size: 0.8em;">
  <tr>
    <th>Metric</th>
    <th>ARIMA</th>
    <th>Prophet</th>
    <th>NeuralProphet</th>
    <th>GRU</th>
    <th><i>Forecast.Solar</i></th>
  </tr>
  <tr>
    <td>MAE</td>
    <td>0.0198</td>
    <td>0.3157</td>
    <td>0.0289</td>
    <td>0.0508</td>
    <td>0.1726</td>
  </tr>
  <tr>
    <td>RMSE</td>
    <td>0.0317</td>
    <td>0.4516</td>
    <td>0.0415</td>
    <td>0.0719</td>
    <td>0.2845</td>
  </tr>
  <tr>
    <td>MAPE</td>
    <td>1.38%</td>
    <td>19.48%</td>
    <td>2.23%</td>
    <td>3.71%</td>
    <td>10.09%</td>
  </tr>
  <tr>
    <td>R2</td>
    <td>0.9933</td>
    <td>-0.3513</td>
    <td>0.9886</td>
    <td>0.9657</td>
    <td>0.4654</td>
  </tr>
</table>
<p style="font-size: 16px">Table X: Comparison of performance metrics for different solar energy forecasting models: ARIMA, Prophet, NeuralProphet, GRU, and Forecast.Solar. </p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="25" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<p><img src="assets/results/compare_legend.png" style="width: 90%;" /><div style="display: flex; flex-direction: column; align-items: center;"></p>
  <div style="display: flex; justify-content: space-around;">
    <div>
      <img src="assets/results/compare_forecast_ARIMA.png" style="width: 90%; height: auto;" />
      <p style="font-size: 16px">Figure 10: ARIMA vs Forecast.Solar Results </p>
    </div>
    <div>
      <img src="assets/results/compare_forecast_Prophet.png" style="width: 90%; height: auto;" />
      <p style="font-size: 16px">Figure 11: Prophet vs Forecast.Solar Results</p>
    </div>
  </div>
  <div style="display: flex; justify-content: space-around;">
    <div>
      <img src="assets/results/compare_forecast_NeuralProphet.png" style="width: 90%; height: auto;" />
      <p style="font-size: 16px">Figure 12: NeuralProphet vs Forecast.Solar Results</p>
    </div>
    <div>
      <img src="assets/results/compare_forecast_GRU.png" style="width: 90%; height: auto;" />
      <p style="font-size: 16px">Figure 13: GRU vs Forecast.Solar Results</p>
    </div>
  </div>
</div>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="26" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<div style="position: absolute; top: 20px; left: 40px;">
<b>Energy Optimization</b>  <a id="energy-optimization"></a>
</div>
<h3 id="discussion-a-iddiscussiona-1">Discussion <a id="discussion"></a></h3>
<ul>
<li>ARIMA models demonstrated better accuracy. Providing a good balance between accuracy and computational efficiency</li>
<li>GRU required more computational resources and Prophet was not as accurate.</li>
<li>The accuracy of each model depends a lot on the quality and quantity of the data used for training and inference.</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="27" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="27" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h2 id="conclusion-a-idconclusiona">Conclusion <a id="conclusion"></a></h2>
<ul>
<li>An initial study on the development of a solution for energy optimization in smart homes using ML models was accomplished.
<ul>
<li>Aiming to maximize solar energy use based on predicted surplus energy.</li>
<li>Keeping user privacy and comfort while providing insights in surplus energy.</li>
</ul>
</li>
<li>Demonstrated potential of deploying ML models on embedded systems for household energy management.</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="28" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h2 id="future-work-a-idfuture-worka">Future Work <a id="future-work"></a></h2>
<ul>
<li>The solution needs to be validated across more diverse datasets to ensure generalizability.</li>
<li>Explore other ML solutions like Transformers and hybrid models.</li>
<li>Integrate real-time weather data to enhance model reliability by accounting for unexpected weather changes.
<ul>
<li>Storing and selling strategies based on current prices data.</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="29" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h1 id="questions">Questions?</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="30" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h1 id="references-a-idreferencesa">References <a id="references"></a></h1>
<ul>
<li>[1] Eurostat, <a href="https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Energy_consumption_in_households">Energy consumption in households</a></li>
<li>[2] Euronews, <a href="https://www.euronews.com/green/2023/06/13/spain-germany-poland-which-european-countries-added-the-most-solar-power-in-2022">Which european countries added the most solar power in 2022</a></li>
<li>[3] E-REDES, <a href="https://www.e-redes.pt/pt-pt/transicao-energetica/redes-do-futuro/autoconsumo">Produção de energia para Autoconsumo</a></li>
<li>[4] H. Zhou, Y. Zhang, L. Yang, Q. Liu, K. Yan, and Y. Du, <a href="https://ieeexplore.ieee.org/document/8736879">Short-term photovoltaic power forecasting based on LSTM neural network and attention mechanism</a></li>
<li>[5] M. Elsaraiti and A. Merabet, <a href="https://ieeexplore.ieee.org/document/9737470">Solar power forecasting using deep learning techniques</a></li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="31" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h1 id="references-a-idreferences-2a">References <a id="references-2"></a></h1>
<ul>
<li>[6] I. Jebli, F. Z. Belouadha, and M. I. Kabbaj, <a href="https://www.researchgate.net/publication/348731221_Deep_Learning_based_Models_for_Solar_Energy_Prediction">Deep learning based models for solar energy prediction</a></li>
<li>[7] M. K. Park, J. M. Lee, W. H. Kang, and J. M. Choi, <a href="https://link.springer.com/article/10.1007/s12206-021-0140-0">Predictive model for pv power generation using rnn (lstm)</a></li>
<li>[8] B. Dhingra, A. Tomar, and N. Gupta, <a href="https://link.springer.com/chapter/10.1007/978-981-19-6490-9_2">Solar power forecasting in photovoltaic modules using ML</a></li>
<li>[9] M. Lamrini, M. Y. Chkouri, and A. Touhafi, <a href="https://www.researchgate.net/publication/372236481_Evaluating_the_Performance_of_Pre-Trained_Convolutional_Neural_Network_for_Audio_Classification_on_Embedded_Systems_for_Anomaly_Detection_in_Smart_Cities">Evaluating the Performance of Pre-Trained CNN for Audio Classification on Embedded Systems</a></li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-paginate="true" data-theme="uncover" lang="en-US" data-marpit-pagination="32" style="--paginate:true;--theme:uncover;" data-marpit-pagination-total="32">
<h1 id="references-a-idreferences-3a">References <a id="references-3"></a></h1>
<ul>
<li>[10] D. H. Tran, V. L. Nguyen, H. Nguyen, and Y. M. Jang, <a href="https://ieeexplore.ieee.org/document/9952746">Short-term solar power generation forecasting using edge ai</a></li>
<li>[11] M. Warushavithana, S. Mitra, M. Arabi, J. Breidt, S. L. Pallickara, and S. Pallickara, <a href="https://ieeexplore.ieee.org/document/9555942">A transfer learning scheme for time series forecasting using facebook prophet</a></li>
<li>[12] Y. Tang, K. Yang, S. Zhang, and Z. Zhang, <a href="https://www.sciencedirect.com/science/article/pii/S1364032122003781?via%3Dihub">A hybrid deep learning model incorporating transfer learning strategy</a></li>
</ul>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var t,s,o,r,a;this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=null!==(t=this.shadowRoot.querySelector(`div[${e}]`))&&void 0!==t?t:void 0;const l=this.svg;this.svg=null!==(o=null===(s=this.wrapper)||void 0===s?void 0:s.querySelector(`svg[${i}]`))&&void 0!==o?o:void 0,this.svg!==l&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=null!==(a=null===(r=this.svg)||void 0===r?void 0:r.querySelector(`span[${n}]`))&&void 0!==a?a:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){var t,e,i,n,s,o,r;let a=Math.ceil(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0);const l=Math.ceil(null!==(n=null===(i=this.containerSize)||void 0===i?void 0:i.height)&&void 0!==n?n:0);void 0!==this.dataset.downscaleOnly&&(a=Math.max(a,null!==(o=null===(s=this.wrapperSize)||void 0===s?void 0:s.width)&&void 0!==o?o:0));const c=null===(r=this.svg)||void 0===r?void 0:r.querySelector(":scope > foreignObject");if(null==c||c.setAttribute("width",`${a}`),null==c||c.setAttribute("height",`${l}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${a} ${l}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=a<=0||l<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const o=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const t=i?`<style>:host { ${i} }</style>`:"";let e="<slot></slot>";const{autoScaling:n}=this.dataset;if(void 0!==n){e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===n?"data-downscale-only":""}>${e}</marp-auto-scaling>`}this.shadowRoot.innerHTML=t+e}};let r;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),g=Symbol();const h=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[g]||(Object.defineProperty(window,g,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,o,r;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(r=null===(o=n.y)||void 0===o?void 0:o.baseVal.value)&&void 0!==r?r:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await h()}finally{s=!0}})();const o=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(o)};return o(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const b=Symbol(),w=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();null!=r||(r=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),r&&a!==HTMLElement?i||customElements.define(s,o(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,o(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[b])return e[b];const i=v({target:e}),n=()=>{i(),delete e[b]},l=Object.assign(n,{cleanup:n,update:()=>w(e)});return Object.defineProperty(e,b,{configurable:!0,value:l}),l},y=document.currentScript;w(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><div class="bespoke-marp-note" data-index="0" tabindex="0"><p>- Hoje venho apresentar o trabalho realizado ao longo do último ano letivo, intitulado 'Smart And Private Domotics', supervisionado pelos professores Diogo Gomes e Mário Antunes e que resultou na publicação de um artigo numa conferência ciêntífica.
- O trabalho incidiu num objetivo central que foi optimizar o consumo de energia em casas que tenham painéis solares instalados através de um sistema que preserve a privacidade do utilizador.</p></div><div class="bespoke-marp-note" data-index="1" tabindex="0"><p>Para dar algum contexto e perceber a importância deste trabalho, foram recolhidas aqui algumas estatísticas que mostram que:
- Consumo de energia nas casas totalizou 27% da energia consumida na União Europeia no ano de 2021.
- Cada vez mas as casas contribuem para o mercado de energia verde, com o aumento da geração de energia solar e instalações de sistemas de domótica.
- Como pode ser comprovado pelo aumento de 49% de instalação de painéis solares em 2022
(que pode ser comprovado por este gráfico)</p></div><div class="bespoke-marp-note" data-index="2" tabindex="0"><p>Este gráfico representa a capacidade instalada de painéis solares ao longo dos anos, com um aumento significativo nos últimos 2 anos.
- Isto confirma que cada vez mais casas estão a investir em painéis solares para gerar a sua própria energia.</p></div><div class="bespoke-marp-note" data-index="3" tabindex="0"><p>A motivação para este trabalho é que
- Em Portugal, o balanço da energia das casas é medido a cada 15 minutos. 
  - Os utilizadores pagam ou ganham dependendo do seu consumo versus produção.
  - (ou seja) Se consumir mais do que gerar vai pagar o excedente, se produzir mais do que consome o excedente vai ser introduzido na rede.
  - Preço de compra &gt;&gt;&gt;&gt; Preço de venda -&gt; o que faz com que seja mais vantajoso para o autoconsumidor aproveitar ao máximo a energia que é gerada pelos seus paneis solares.
- Com isto, surge a necessidade de existir um sistema capaz de prever com precisão a produção e o consumo de energia nestes intervalos de 15 minutos, com o objetivo de:
    - Fornecer alguns insights sobre a energia excedente
    - (isto para) Reduzir o desperdício de energia nestas casas que procurar ser autossuficientes

COMO? -&gt; Promovendo o uso de certos eletrodomesticos numa altura em que o pico de geração solar é maior.</p></div><div class="bespoke-marp-note" data-index="4" tabindex="0"><p>Com isto, esta dissertação tem como objetivo desenvolver um sistema capaz de prever a produção de energia solar e o consumo total da casa, totalmente num embedded system.
  - Promovendo, assim, uma solução local e privada, que otimize o consumo de energia

(3 minutos)</p></div><div class="bespoke-marp-note" data-index="5" tabindex="0"><p>Agora passando para o estado da arte, onde foram analisados vários trabalhos que estão relacionados com as áreas importantes para esta investigação.

Começando por Home Automation:
  - O termo &quot;Home automation&quot; refere-se ao uso de tecnologia para controlar e automatizar sistemas e eletrodomésticos em casa.
  - Existem vários sistemas de Home Automation que conecta todos os dispositivos inteligentes em casa, permitindo o controlo remoto e automatizado.
- Geralmente, estes sistemas correm em embedded systems, que podem ser um dispositivo programado pelo utilizador ou então um hub de domótica de uma marca específica, como por exemplo o Google Nest Hub e o Hub SmartThings das Samsung.</p></div><div class="bespoke-marp-note" data-index="6" tabindex="0"><p>Passando para a área de Time Series Forecasting, já existem também vários métodos que permitem a previsão do futuro com base em dados historicos
  - Modelos Estatisticos: ARIMA
  - Modelos que incorporam Machine Learning com métodos estatísticos como Prophet e o NeuralProphet que oferecer uma maior flexibilidade na modelação do modelo, integrando DL com métodos estatísticos
  - Modelo de ML: Como arquiteturas RNN (LSTM e GRU como alternativas que resolvem alguns problemas comuns nas RNN) e os mais recentes Transformers que introduzem um mecanismo de atenção que permite ao modelo aprender a importância dos diferentes inputs.
Após a análise de vários trabalhos na área foi possivel verificar que (para os trabalhos estudados):
  - Abordagens que utilizam mais que um dado de entrada foram melhores
  - Usar redes neuronais resulta melhor do que métodos estatísticos
  - E a incorporação do mecanismo de atenção em redes como LSTM funcionaram num cenário com vários inputs</p></div><div class="bespoke-marp-note" data-index="7" tabindex="0"><p>Para trabalhos especificamente na área de Machine Learning em Embedded Systems analisei duas técnicas conhecidas:
    - Transfer Learning, que revelou ser uma boa solução para reduzir o custo computacional enquanto mantém a performance.
    - Model Quantization, que tem como objetivo reduzir o tamanho do modelo e o tempo de inferência reduzindo a precisão dos weights do modelo.

  (5 minutos)</p></div><div class="bespoke-marp-note" data-index="8" tabindex="0"><p>Para conseguir analisar os trabalhos que foram revistos foi criada uma lista de requisitos necessários para a resolução do problema apresentado:
   - O primeiro é mais geral, é que o sistema deve permitir a previsão com base em dados históricos e em tempo real
   - Deve ser compativel com o uso de multiplos dados de entrada
   - Deve prever a geração de energia solar e o consumo em janelas de 15 minutos
   - Estar adaptado para poder ser usado em dispositivos com recursos limitados
   - Deve ser treinado com dados reduzidos, por exemplo 15 a 30 dias de dados (normalmente o que guarda nos sistemas de home automation).
   - E o último é um requisito de performance, porque o modelo também deve ser minimamente correto para permitir boas previsões</p></div><div class="bespoke-marp-note" data-index="9" tabindex="0"><p>Aqui temos uma lista dos trabalhos mais relevantes que foram estudados, não vou fazer uma analise profunda a todos mas queria destacar 4 deles que estão a negrito, 2 relacionados com Solar Power Forecasting e outros 2 focados no uso de ML em embedded systems:
  - O primeiro trata-se de uma solução que melhorou bastante a performance dos modelos tradicionais. O que os autores fizeram foi uma solução LSTM com mecanismo de atenção em que eles desenvolveram dois modelos que previam valores diferentes e depois combinavam os resultados para obter um valor final
  - O terceiro da lista é um modelo que incorporou dados meteorológicos no modelo para melhorar a previsão da energia solar gerada.
  - O sétimo é um modelo que usou Model Quantization e conseguiu reduzir o seu tamanho em 16 vezes, mantendo a performance
  - E o penúltimo trabalho em que estudou Transfer Learning para adaptar modelos pre-treinados a diferentes características geográficas. Com isto, conseguiram reduzir o uso de CPU em 37.5% e o tempo de treino em 47%.

  Olhando para a tabela de uma forma geral vemos que a maioria dos trabalhos cumprem os requisitos iniciais, mas nenhum cumpre todos os requisitos. Nenhum deles cumpre o requisito de treinar o modelo com poucos dados, porque a maioria deles foi sempre treinado com grandes quantidades de dados.

  (1º-Duas redes neurais LSTM são utilizadas para a previsão das saídas de temperatura e potência, respetivamente. Os resultados da previsão são achatados e combinados com uma camada totalmente conectada para aumentar a precisão da previsão.)</p></div><div class="bespoke-marp-note" data-index="10" tabindex="0"><p>Com isto surge então a necessidade de desenvolver uma solução que incorpore os pontos fortes dos trabalhos revistos e que consiga preencher os requisitos falhados.

A proposta para essa dissertação passa então por desenvolver um sistema que:
  - Consiga fazer essa previsão da energia solar gerada e consumo total em intervalos de 15 minutos
  - O sistema deve fornecer insights sobre a energia excedente da casa
    - o que vai permitir que o utilizador consiga decidir o que fazer com esta energia e, assim, aproveitar da melhor forma a energia que é gerada pelos seus paineis solares
  - Isto senpre correndo totalmente num embedded system, promovendo uma solução local e privada para esta otimização.

(8:30 MINUTOS)</p></div><div class="bespoke-marp-note" data-index="11" tabindex="0"><p>Aqui podemos a arquitetura de alto nível da solução proposta. O que nós temos é:

Sistema de Home Automation: Para conectar todos os dispositivos inteligentes da casa
que vai estar ligada ao nosso modelo de forecasting
Integração com o sistema de Home Automation: Age como um middleman que implementa os modelos ML, que recolhe dados da casa inteligente e envia as previsões.

Vão haver dois modelos ML:
Um deles apenas quando usarmos DL: External Model -&gt; Treinado numa máquina dedicada com mais quantidade e variadade de dados
          Local Model -&gt; Treinado no dispositivo que tem o sistema de domótica instalado e vai ser treinado com transfer learning (no caso de DL) com base no modelo treinado externamente. Ou do zero quando se tratar de modelos mais simples (ARIMA, Prophet, NeuralProphet).</p></div><div class="bespoke-marp-note" data-index="12" tabindex="0"><p>Aqui podemos ter uma visão mais detalhada da arquitetura da solução proposta acompanhada das escolhas de frameworks que escolhemos usar.

Para Home Automation:
Home assistant: das plataformas mais usadas no mundo inteiro, incluindo Portugal
Raspberry Pi: é o sistema mais comum que os utilizadores do Home assistant usam

Dados: Modelo externo -&gt; dados recolhidos de voluntários portugueses, com mais dados
       Modelo interno -&gt; dados recolhidos da casa e com menos dados

PreProcessamento: Python com recurso à livraria pandas e NumPy para processamento dos dados recolhidos.

Para o Modelo: Keras -&gt; pela sua flexibilidade de modelação de redes neuronais
              Ou as livrarias especificias para os modelos de ARIMA, Prophet e NeuralProphet
              scikit-learn -&gt; foi usado para calcular métricas e gerar resultados</p></div><div class="bespoke-marp-note" data-index="13" tabindex="0"><p>As escolhas de ferramentas a utilizar vão permitir satisfazer os requisitos do sistema definidos anteriormente:
 - O uso do Keras vai permitir satisfazer os primeiros 3 requisitos devido à sua flexibilidade em modelar redes neuronais
 - Transfer Learning e Model quantization permitem o seu uso em embedded systems e promovem a adaptação do modelo ao treinar com datasets mais pequenos
 - e claro, o objetivo é que o modelo consiga atingir uma performance capaz de gerar previsões minimamente corretas

 (10 MINUTOS)</p></div><div class="bespoke-marp-note" data-index="14" tabindex="0"><p>O Desenvolvimento deste trabalho foi divido em duas partes:

Nesta fase inicial de analise foi usado um dataset alargado com dados de casas do sul da Alemanha espaçados em 1 minuto e ao longo de três anos para conseguir perceber mais ou menos como funcionam os diferentes modelos e a sua performance em diferente hardware e para tentar puxar os dispositivos até ao seu limite.

Para isto, foram realizados dois testes:
  - um deles para comparar a performance de diferentes modelos no RPi e num computador de uso geral
  - e o outro para explorar o uso de Transfer Learning</p></div><div class="bespoke-marp-note" data-index="15" tabindex="0"><p>Ao analisar vários modelos para fazer a previsão de series temporais os resultados para muita quantidade de dados foram que o RPi teve problemas em terminar uma execução do ARIMA muitas das vezes e revelou tempos extensivos a treinar LSTM e GRU.

Sem qualquer técnica para reduzir o poder computacional a melhor técnica acabou por ser o NeuralProphet porque ofereceu um balanço entre rapidez e flexibilidade para configurar o modelo</p></div><div class="bespoke-marp-note" data-index="16" tabindex="0"><p>Para testar o Transfer Learning foi usado um computador com uma Nvidia Geforce 1650 e 16GB RAM e para comparaçao um Raspberry Pi 5 de 8GB.

Ao treinar o modelo do zero em ambos os dispositivos:
  - Verificou-se um tempo 176% superior ao do computador de uso geral
Ao treinar o modelo com Transfer Learning:
  - Atingiu-se uma performance similar
  - Com tempos de treinar muito reduzidos
  - E o uso de memória foi constantemente menor</p></div><div class="bespoke-marp-note" data-index="17" tabindex="0"><p>Aqui podemos visualizar a diferença de uso de recursos computacionais entre treinar um modelo do zero e usar Transfer Learning.
Como podemos ver o uso da memória no RPi5 é consistentemente menor quando se usa Transfer Learning e o CPU mantém-se ligeiramente parecido, mas a intensidade computacional dura menos tempo.

Em relação ao tempo de treino também vemos uma redução de aproximadamente 1400 segundos para 500 segundos no RPi5. O que é uma grande diferença que também se reflete na energia gasta pelos dispositivo, visto que o tempo em que o sistema está cobrecarregado é menor.</p></div><div class="bespoke-marp-note" data-index="18" tabindex="0"><p>Com este estudo inicial conseguimos entender que:
    - É possível treinar um modelo de ML num embedded system, mas com um custo computacional significativo associado.
    - Para reduzir o custo computacional, é possível usar Transfer Learning, sem afetar a performance do modelo e reduzindo o overload computacional no sistema.

  (12 minutos)</p></div><div class="bespoke-marp-note" data-index="19" tabindex="0"><p>Agora sim, passamos para a parte de desenvolvimento do sistema de optimização de energia.
Para isto, numa primeira fase, foi necessário recolher dados de casas portuguesas, o que foi feito através de uma plataforma criada em colaboração com um investigador de IT que permite aos voluntários fazer upload dos seus dados de sensores IoT.

Com isto, conseguimos recolher 6 pares de series temporais de casas portuguesas com dados de produção e consumo de energia.

Para que os dados estivessem prontos para serem usados foi necessário fazer um pré-processamento para alinhar os dados e remover outliers.</p></div><div class="bespoke-marp-note" data-index="20" tabindex="0"><p>Este pre-processamento foi um passo extremamente importante para garantir que os dados estavam prontos para serem usados e foi que melhorou muito os nossos modelos.

Primeiramente, foi necessário transformar os dados de somas do total de energia para leituras instantâneas de series temporais.

Depois, foi necessário preencher os dados que estavam em falta, que eram muitas vezes várias horas sem alterações nos sensores, o que fazia com que o Home Assistant não registasse nenhum valor durante várias horas. Interpolação linear foi usada para fazer o resample dos dados para intervalos de 15 minutos.

Por fim, foi necessário normalizar os dados para garantir que todos os dados das diferentes casas estavam na mesma escala e prontos para serem usados em simultâneo nos modelos.

Procuramos, também, integrar dados meteorológicos, mas não foi possível devido à falta de precisão de dados deste gênero em Portugal.</p></div><div class="bespoke-marp-note" data-index="21" tabindex="0"><p>Foram testados com os dados pré-processados os modelos ARIMA, Prophet, NeuralProphet e GRU.

O procedimento foi o seguinte:
  - Exclusivamente para o GRU:
    - Treinar o modelo num dataset externo (que consistia nos dados de todas as casas portuguesas recolhidas)
    - Transfer Learning para o dispositivo local
  - Treinar dois modelos com os dados da casa para a produção e consumo de energia
  - Prever ambos os valores e calcular a energia excedente prevista</p></div><div class="bespoke-marp-note" data-index="22" tabindex="0"><p>Em termos de resultados como podemos ver no gráfico à esquerda:
- O ARIMA foi o modelo que teve melhor performance em termos de erro absoluto percentual, seguido do GRU.
- O Prophet e o NeuralProphet demonstram resultados mais variáveis,
não oferencendo muita confiança nas previsões.

Em termos de tempo de execução, o ARIMA foi dos modelos que demorou menos tempo a treinar e a fazer previsões, apenas sendo superado pelo Prophet.
  - GRU e NeuralProphet foram os modelos que demoraram mais tempo, o que era expectável visto que são modelos mais complexos e que requerem mais poder computacional.</p></div><div class="bespoke-marp-note" data-index="23" tabindex="0"><p>- Quisemos também fazer algumas comparações entre os nossos modelos e outras alternativas que ja existiam. 

Aqui podemos ver uma comparação entre os diferentes modelos que foram testados e um modelo já existente, o Forecast.Solar:
- Estes testes foram feitos com um dataset bastante reduzido, pois era o único em que tinhamos valores de geração de energia e previsão do Forecast.Solar.

- Como podemos ver, o ARIMA foi o modelo que teve melhor performance em todas as métricas, seguido do NeuralProphet e do GRU. 
- O Prophet foi o modelo que teeve pior performance em todas as métricas e é o único que não supera o Forecast.Solar.</p></div><div class="bespoke-marp-note" data-index="24" tabindex="0"><p>- O Prophet está completamente ao lado nas previsões
- O ARIMA uma vez mais revela-se um modelo muito bom para previsões de series temporais simples
- O NeuralProphet e o GRU também não estão mal e conseguimos verificar uma melhoria nas previsões à medida que novos dados vao sendo introduzidos no sistema
  - Modelo adapta-se sozinho ao longo do tempo, sem necessidade de intervenção humana

 Concluímos por aqui que modelos estatisiticos como o ARIMA revelaram ser bastante eficazes para a previsão de séries temporais simples. 
 
 (opcional, se restar tempo) Modelos mais complexos como o NeuralProphet e o GRU também não estão mal e conseguimos verificar uma melhoria nas previsões à medida que novos dados vao sendo introduzidos no sistema. O modelo adapta-se sozinho ao longo do tempo, sem necessidade de intervenção humana.</p></div><div class="bespoke-marp-note" data-index="25" tabindex="0"><p>- O ARIMA foi o modelo que demonstrou ter melhor precisão usando séries temporais simples, oferecendo um bom balanço entre precisão e eficiência computacional
  - O GRU exigiu mais recursos computacionais e o Prophet não foi tão preciso como os outros.
  - A precisão de cada modelo depende muito da qualidade e quantidade de dados usados para treino e inferência.

  - Logo, Não conseguimos tirar conclusões gerais, mas sim sobre os dados que usamos nestas experiências.

  (18 MINUTOS)</p></div><div class="bespoke-marp-note" data-index="26" tabindex="0"><p>Em conclusão, esta dissertação consistiu num primeiro estudo de uma solução para otimizar a eficiência energética de casas inteligentes, utilizando modelos de previsão de séries temporais em embedded systems.
  Tendo como objetivos:
  - Maximizar o uso de energia solar com base em previsões de consumo e geração de energia.
  - Mantendo a privacidade e o conforto do utilizador, fornecendo insights sobre a gestão energética.

  - Demonstrou-se, também, o potencial de implementar modelos de ML em embedded systems com sistemas de domótica instalados para gestão energética.</p></div><div class="bespoke-marp-note" data-index="27" tabindex="0"><p>Para validar o trabalho realizado nesta dissertação seria importante
    - Validar a solução com diferentes dados mais diversificados para garantir a sua generalização a diferentes casas e condições.
    - Explorar outras soluções de ML como Transformers e modelos híbridos.
    - Integrar dados meteorológicos em tempo real para melhorar considerando mudanças climáticas inesperadas.
    - Considerar a integração de dados de mercados de energia para otimizar o consumo, armazenamento e estratégias de venda de energia com base nos preços atuais do mercado.</p></div><div class="bespoke-marp-note" data-index="28" tabindex="0"><p>E foi este o resumo do que foi feito neste último ano. 

Fico agora disponível para responder às perguntas que tenham surgido!</p></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@3.4.0/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),i={},a=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){i[e]=(i[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(i[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){o[e]&&(n&&l("deactivate",a(n,t)),n=o[e],l("activate",a(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;l(e>0?"next":"prev",a(n,t))&&c(r,t)},u={off:s,on:function(e,t){return(i[e]||(i[e]=[])).push(t),s.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(n);l("slide",a(o[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){l("destroy",a(n,e)),i={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u}},n=e(t);const r=document.body,o=(...e)=>history.replaceState(...e),i="presenter",a="next",s=["",i,a],l="bespoke-marp-",c=`data-${l}`,d=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const i=e.toString();return`${t}//${n}${r}${i?"?":""}${i}${o}`},u=()=>r.dataset.bespokeView,f=e=>new URLSearchParams(location.search).get(e),m=(e,t={})=>{var n;const r={location,setter:o,...t},i=new URLSearchParams(r.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?i.set(t,n):i.delete(t)}try{r.setter({...null!==(n=window.history.state)&&void 0!==n?n:{}},"",d(i,r.location))}catch(e){console.error(e)}},g=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),p=e=>{try{return localStorage.getItem(e)}catch(e){return null}},v=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},h=e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}},y=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},b=e=>{e.parent.classList.add(`${l}parent`),e.slides.forEach((e=>e.classList.add(`${l}slide`))),e.on("activate",(t=>{const n=`${l}active`,r=t.slide,o=r.classList,i=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),y(e,!0)})),o.add(n),y(r,!1),i){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},w=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const i=t<r||t===r&&n<=o;e.setAttribute(`${c}fragment`,(i?"":"in")+"active");const a=`${c}current-fragment`;t===r&&n===o?e.setAttribute(a,"current"):e.removeAttribute(a)}))})),e.fragmentIndex=o;const i={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",i)};e.on("next",(({fragment:i=!0})=>{if(i){if(r(1))return o(t,n+1),!1;const i=t+1;e.fragments[i]&&o(i,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const i=e.fragments[t+1];i&&o(t+1,i.length-1)}})),e.on("prev",(({fragment:i=!0})=>{if(r(-1)&&i)return o(t,n-1),!1;const a=t-1;e.fragments[a]&&o(a,e.fragments[a].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},x=document,k=()=>!(!x.fullscreenEnabled&&!x.webkitFullscreenEnabled),$=()=>!(!x.fullscreenElement&&!x.webkitFullscreenElement),E=e=>{e.fullscreen=()=>{k()&&(async()=>{return $()?null===(e=x.exitFullscreen||x.webkitExitFullscreen)||void 0===e?void 0:e.call(x):((e=x.body)=>{var t;return null===(t=e.requestFullscreen||e.webkitRequestFullscreen)||void 0===t?void 0:t.call(e)})();var e})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!k()||(e.fullscreen(),t.preventDefault())}))},L=`${l}inactive`,S=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let i;const a=()=>{i&&clearTimeout(i),i=setTimeout((()=>{r.add(L),o()}),e),r.contains(L)&&(r.remove(L),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,a);setTimeout(a,0)},P=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],_=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(P.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},T=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${c}load`,e?"":"hideable")}}))},I=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(i=>{let a=!1;const s=(e,t)=>{e&&(a=a||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),(null==e?void 0:e.parentElement)&&s(e.parentElement,t)};if(0!==i.deltaX&&s(i.target,"X"),0!==i.deltaY&&s(i.target,"Y"),a)return;i.preventDefault();const l=Math.sqrt(i.deltaX**2+i.deltaY**2);if(void 0!==i.wheelDelta){if(void 0===i.webkitForce&&Math.abs(i.wheelDelta)<40)return;if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<4)return}else if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const c=Date.now()-o<e,d=l<=n;if(n=l,c||d)return;let u;(i.deltaX>0||i.deltaY>0)&&(u="next"),(i.deltaX<0||i.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},M=(e=`.${l}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${c}osc=${JSON.stringify(e)}]`).forEach(n)};return k()||n("fullscreen",(e=>e.style.display="none")),g||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?null==e||e.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>y(t,!1))),e.on("marp-inactive",(()=>y(t,!0))),k()&&(e=>{for(const t of["","webkit"])x.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",k()&&$())))))}},O=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),i=Number.parseInt(n,10)+1;i>=e.fragments[o].length&&(o+=1,i=0),e.slide(o,{fragment:i})}}))};var A=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let C=e=>String(e).replace(/[&<>"']/g,(e=>`&${D[e]};`)),D={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},N="dangerouslySetInnerHTML",B={className:"class",htmlFor:"for"},q={};function K(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==N&&(r+=` ${B[e]?B[e]:C(e)}="${C(t[e])}"`);r+=">"}if(-1===A.indexOf(e)){if(t[N])r+=t[N].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===q[e]?e:C(e)}r+=e?`</${e}>`:""}return q[r]=!0,r}const j=({children:e})=>K(null,null,...e),F=`${l}presenter-`,V={container:`${F}container`,dragbar:`${F}dragbar-container`,next:`${F}next`,nextContainer:`${F}next-container`,noteContainer:`${F}note-container`,noteWrapper:`${F}note-wrapper`,noteButtons:`${F}note-buttons`,infoContainer:`${F}info-container`,infoPage:`${F}info-page`,infoPageText:`${F}info-page-text`,infoPagePrev:`${F}info-page-prev`,infoPageNext:`${F}info-page-next`,noteButtonsBigger:`${F}note-bigger`,noteButtonsSmaller:`${F}note-smaller`,infoTime:`${F}info-time`,infoTimer:`${F}info-timer`},U=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=V.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",K(j,null,K("div",{class:V.nextContainer},K("iframe",{class:V.next,src:"?view=next"})),K("div",{class:V.dragbar}),K("div",{class:V.noteContainer},K("div",{class:V.noteWrapper}),K("div",{class:V.noteButtons},K("button",{class:V.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),K("button",{class:V.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),K("div",{class:V.infoContainer},K("div",{class:V.infoPage},K("button",{class:V.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),K("span",{class:V.infoPageText}),K("button",{class:V.infoPageNext,tabindex:"-1",title:"Next"},"Next")),K("time",{class:V.infoTime,title:"Current time"}),K("time",{class:V.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(V.dragbar).addEventListener("mousedown",(()=>{t=!0,r(V.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(V.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(V.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(V.nextContainer).addEventListener("click",(()=>e.next()));const n=r(V.next),o=(i=n,(e,t)=>{var n;return null===(n=i.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var i;n.addEventListener("load",(()=>{r(V.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const a=document.querySelectorAll(".bespoke-marp-note");a.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(V.noteWrapper).appendChild(e)})),e.on("activate",(()=>a.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const l=e=>{s=Math.max(-5,s+e),r(V.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},c=()=>l(1),d=()=>l(-1),u=r(V.noteButtonsBigger),f=r(V.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),c()})),f.addEventListener("click",(()=>{f.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&c(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(V.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const m=r(V.infoPagePrev),g=r(V.infoPageNext);m.addEventListener("click",(t=>{m.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),i=t(n/1e3/60%60),a=t(n/36e5%24);r(V.infoTime).textContent=e.toLocaleTimeString(),r(V.infoTimer).textContent=`${a}:${i}:${o}`};v(),setInterval(v,250),r(V.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},X=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:H},presenterUrl:{enumerable:!0,get:R}}),g&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function H(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,F+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function R(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),d(e)}const W=e=>{const t=u();return t===a&&e.appendChild(document.createElement("span")),{"":X,[i]:U,[a]:O}[t]},J=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},Y=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},z=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?Y(f("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:i,slides:a}=e,s=o(0,r(t,a.length-1)),l=o(0,r(n||0,i[s].length-1));s===e.slide()&&l===e.fragmentIndex||e.slide(s,{fragment:l})})((()=>{var t,r;if(location.hash){const[o]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(o))return(null!==(t=Y(o))&&void 0!==t?t:1)-1;const i=document.getElementById(o)||document.querySelector(`a[name="${CSS.escape(o)}"]`);if(i){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(i)){const t=null===(r=e.fragments)||void 0===r?void 0:r[o],a=i.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||m({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),m({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},G=(e={})=>{var t;const n=e.key||(null===(t=window.history.state)||void 0===t?void 0:t.marpBespokeSyncKey)||Math.random().toString(36).slice(2),r=`bespoke-marp-sync-${n}`;var i;i={marpBespokeSyncKey:n},m({},{setter:(e,...t)=>o({...e,...i},...t)});const a=()=>{const e=p(r);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=a(),n={...t,...e(t)};return v(r,JSON.stringify(n)),n},l=()=>{window.removeEventListener("pageshow",l),s((e=>({reference:(e.reference||0)+1})))};return e=>{l(),Object.defineProperty(e,"syncKey",{value:n,enumerable:!0});let t=!0;setTimeout((()=>{e.on("fragment",(e=>{t&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(n=>{if(n.key===r&&n.oldValue&&n.newValue){const r=JSON.parse(n.oldValue),o=JSON.parse(n.newValue);if(r.index!==o.index||r.fragmentIndex!==o.fragmentIndex)try{t=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{t=!0}}}));const o=()=>{const{reference:e}=a();void 0===e||e<=1?h(r):s((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",l),o()})),e.on("destroy",o)}},{PI:Q,abs:Z,sqrt:ee,atan2:te}=Math,ne={passive:!0},re=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,i=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?i(e[0]):void 0}),ne),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=i(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ee(Z(n)**2+Z(o)**2),r.radian=te(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+Q)%(2*Q)-Q;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),ne)},oe=new Map;oe.clear(),oe.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ie={both:"",outgoing:"outgoing-",incoming:"incoming-"},ae={forward:"",backward:"-backward"},se=e=>`--marp-bespoke-transition-animation-${e}`,le=e=>`--marp-transition-${e}`,ce=se("name"),de=se("duration"),ue=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const i=getComputedStyle(r).getPropertyValue(le("duration"));i&&(n.defaultDuration=i),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),fe=async e=>oe.has(e)?oe.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ie))for(const[i,a]of Object.entries(ae)){const s=`marp-${o}transition${a}-${e}`;n.push(ue(s).then((e=>{t[i]=t[i]||{},t[i][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(oe.set(e,t),t))),me=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),ge=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[ce]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[se("direction")]="reverse"),e}})();return!o&&n?ge(e,{type:t,backward:!1}):o||{[ce]:"__bespoke_marp_transition_no_animation__"}},pe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch(e){}},ve="_tSId",he="_tA",ye="bespoke-marp-transition-warming-up",be=window.matchMedia("(prefers-reduced-motion: reduce)"),we="__bespoke_marp_transition_reduced_outgoing__",xe="__bespoke_marp_transition_reduced_incoming__",ke={forward:{both:void 0,incoming:{name:xe},outgoing:{name:we}},backward:{both:void 0,incoming:{name:xe},outgoing:{name:we}}},$e=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>fe(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=pe(e);return[null==t?void 0:t.name,(null==t?void 0:t.builtinFallback)?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const r=(n,{back:r,cond:o})=>i=>{var a;const s=t();if(s)return!!i[he]||!("object"!=typeof s||(s.skipTransition(),!i.forSync));if(!o(i))return!0;const l=e.slides[e.slide()],c=()=>{var e;return null!==(e=i.back)&&void 0!==e?e:r},d="data-transition"+(c()?"-back":""),u=l.querySelector(`section[${d}]`);if(!u)return!0;const f=pe(null!==(a=u.getAttribute(d))&&void 0!==a?a:void 0);return!f||((async(e,{builtinFallback:t=!0}={})=>{let n=await fe(e);if(me(n)){if(!t)return;return n=await fe(`__builtin__${e}`),me(n)?void 0:n}return n})(f.name,{builtinFallback:f.builtinFallback}).then((e=>{if(!e){t(!0);try{n(i)}finally{t(!1)}return}let r=e;be.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=ke);const o=document.getElementById(ve);o&&o.remove();const a=document.createElement("style");a.id=ve,document.head.appendChild(a),((e,t)=>{const n=[`:root{${le("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{var n,o,i;const a=(null===(n=e[t].both)||void 0===n?void 0:n.defaultDuration)||(null===(o=e[t].outgoing)||void 0===o?void 0:o.defaultDuration)||(null===(i=e[t].incoming)||void 0===i?void 0:i.defaultDuration);return"forward"===t?a:a||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${de}:${o};}`);const i=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::view-transition-old(root){${i(ge(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${i(ge(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:f.duration}).forEach((e=>{var t;return null===(t=a.sheet)||void 0===t?void 0:t.insertRule(e)}));const s=document.documentElement.classList;s.add(ye);let l=!1;const d=()=>{l||(n(i),l=!0,s.remove(ye))},u=()=>{t(!1),a.remove(),s.remove(ye)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(u)}catch(e){console.error(e),d(),u()}})),!1)};e.on("prev",r((t=>e.prev({...t,[he]:!0})),{back:!0,cond:e=>{var t;return e.index>0&&!((null===(t=e.fragment)||void 0===t||t)&&n.fragmentIndex>0)}})),e.on("next",r((t=>e.next({...t,[he]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",r((t=>e.slide(t.index,{...t,[he]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let Ee;const Le=()=>(void 0===Ee&&(Ee="wakeLock"in navigator&&navigator.wakeLock),Ee),Se=async()=>{const e=Le();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Pe=async()=>{if(!Le())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Se()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Se(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=f("view");r.dataset.bespokeView=e===a||e===i?e:""})();const t=(e=>{const t=f(e);return m({[e]:void 0}),t})("sync")||void 0;n.from(e,((...e)=>{const t=s.findIndex((e=>u()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],G({key:t})],[[1,1,1],W(e)],[[1,1,0],_],[[1,1,1],b],[[1,0,0],S()],[[1,1,1],T],[[1,1,1],z({history:!1})],[[1,1,0],I()],[[1,1,0],E],[[1,0,0],J],[[1,1,0],re()],[[1,0,0],M()],[[1,0,0],$e],[[1,1,1],w],[[1,1,0],Pe]))})()}();</script></body></html>